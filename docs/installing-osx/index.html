<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"><meta name="generator" content="AsciiDoc 8.6.9"><title>Installing ghc-vis on Mac OS X 10.8</title><style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


ul.toc {
	list-style-type: none;
	margin-left: 0;
	padding-left: 0;
}

ul.toc ul.toc {
	padding-left: 0.5em;
}
</style></head><body class="article"><div id="header"><a class="bctarget" name="header"></a>
<h1>Installing ghc-vis on Mac OS X 10.8</h1>
<span id="author"><a class="bctarget" name="author"></a>Dennis Felsing</span><br>
<span id="email"><a class="bctarget" name="email"></a><code>&lt;<a href="mailto:dennis@felsing.org">dennis@felsing.org</a>&gt;</code></span><br>
<span id="revdate"><a class="bctarget" name="revdate"></a>June 2013</span>
</div><div id="content"><a class="bctarget" name="content"></a>
<div id="preamble"><a class="bctarget" name="preamble"></a>
<div class="sectionbody">
<div class="paragraph"><p>This document explains how to install ghc-vis on a fresh installation of Mac
OS X 10.8 on an x86_64 system.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="install_xquartz"><a class="bctarget" name="install_xquartz"></a>Install XQuartz</h2>
<div class="sectionbody">
<div class="paragraph"><p>Visit <a href="http://xquartz.macosforge.org">http://xquartz.macosforge.org</a> and install XQuartz. Reboot your system to
apply the changes.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="install_homebrew"><a class="bctarget" name="install_homebrew"></a>Install HomeBrew</h2>
<div class="sectionbody">
<div class="paragraph"><p>Install the <em>Command Line Tools for Xcode</em> from
<a href="https://developer.apple.com/downloads">https://developer.apple.com/downloads</a>
.</p></div>
<div class="paragraph"><p>Install HomeBrew as described on
<a href="http://mxcl.github.io/homebrew/">http://mxcl.github.io/homebrew/</a>
:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)"</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="install_gtk_and_graphviz"><a class="bctarget" name="install_gtk_and_graphviz"></a>Install GTK and GraphViz</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code>brew install gtk graphviz
gtk-demo</code></pre>
</div></div>
<div class="paragraph"><p>If you&#8217;re running a Hackintosh with an older CPU you have to set LLVM to
compile for your CPU instead of the one advertised by your virtual machine
(LLVM wrongly uses the CPU ID instead of its cap flags to determine which
instructions it supports). To do this open <code>/usr/local/Library/ENV/4.3/cc</code> in
a text editor and replace <code>-march=native</code> with <code>-march=core2</code>. See
<a href="https://github.com/mxcl/homebrew/issues/19567#issuecomment-18888359">https://github.com/mxcl/homebrew/issues/19567#issuecomment-18888359</a>
for more details.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="install_the_haskell_platform"><a class="bctarget" name="install_the_haskell_platform"></a>Install the Haskell Platform</h2>
<div class="sectionbody">
<div class="paragraph"><p>Visit
<a href="http://www.haskell.org/platform/mac.html">http://www.haskell.org/platform/mac.html</a>
and install the Haskell Platform.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="set_correct_paths"><a class="bctarget" name="set_correct_paths"></a>Set Correct Paths</h2>
<div class="sectionbody">
<div class="paragraph"><p>Set up the correct executable and library paths by adding them to your
<code>.profile</code>:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>cat &lt;&lt;EOT &gt;&gt; ~/.profile
export PATH=\$HOME/Library/Haskell/bin:/usr/local/bin:\$PATH
export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:/opt/X11/lib/pkgconfig
export LDFLAGS=-L/usr/local/lib
export CFLAGS=-I/usr/local/include
export LIBS=-L/usr/local/lib
EOT
source .profile</code></pre>
</div></div>
<div class="paragraph"><p>This is important as otherwise the linker will use the system&#8217;s cairo version
instead of the one we just installed, leading to a segmentation fault. See
<a href="https://github.com/vslavik/diff-pdf/issues/13#issuecomment-18222977">https://github.com/vslavik/diff-pdf/issues/13#issuecomment-18222977</a>
for more details.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="install_ghc_vis"><a class="bctarget" name="install_ghc_vis"></a>Install ghc-vis</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code>cabal update
cabal install gtk2hs-buildtools
cabal install ghc-vis --disable-library-profiling</code></pre>
</div></div>
<div class="paragraph"><p>Follow the instructions in the output of <code>cabal install ghc-vis</code> to setup the
ghci script.</p></div>
</div>
</div>
</div><div id="footer"><a class="bctarget" name="footer"></a>
<div id="footer-text"><a class="bctarget" name="footer-text"></a>
Last updated 2016-02-11 15:53:55 CET
</div>
</div></body></html>
